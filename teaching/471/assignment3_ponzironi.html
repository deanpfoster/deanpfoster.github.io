<HTML>
<HEAD>
<TITLE>Assignment on Ponzironi</TITLE>
<BODY>
<P>
<CENTER><H1> Assignment on Ponzironi. (Individual) </H1></CENTER>
<P>
<p>
Write up the discussion question carefully.  The other questions can
be answered in as minimal a fashion as you can.  You don't have to
clean up graphs and output for any of the questions but the discussion
question.  Of course, any graph worth printing is worth a sentence of
discussion.  

<IMG SRC="http://www.businessweek.com/2000/00_13/art13/a13mac64.gif",
ALIGN="RIGHT" BORDER=0>

<p>
<a href="assignment3_ponzironi.R">Here</a> are some suggestings for R from Sivan

<ol>
  <li> This problem will have you reanalyze Dent's data.  I will walk
       you through a series of precise questions. Dent wrote an entire
book based on predicting the DOW from population data.  You will redo
some of this analysis.  He makes $10,000 per hour for lectures--if you
do a better job then he does, maybe you can make even more.
       Business Week wrote an article about him that we will use
instead of his book (<a
href="http://www.businessweek.com/2000/00_13/b3674175.htm">on line
link</a>).  The data can be downloaded
       from the class web page (<a href="data/population_total.csv">.csv</a>).
       </p>
       <ol type=a>
	 <li> Generate a plot that matches the business week plot as
	      well as possible.  (i.e. use as close to the same years
	      as he uses.)  Use the "returns" (which is included in the
dataset) instead of the DOW.  You will need to multiply the RETURNS
together to generate the VW series itself.  Then take the log of the
VW you just created.  Now generate a plots of the whole time
	      series.  Does his model seem to do well in the first
	      part of the century?  Can you think of a reason why
	      things might have been different then?
	      </p>
	 <li> To check his claim that population predicts the DOW, run
	      a regression of the ln(DOW) on age45.  (Actually, you have
	      the market value weighted and not the DOW.  It is hard
	      to come by silly indices like the DOW for long time
	      series.)  What is the R-sqrd?   Impressive or not?
	      </p>
	 <li> This is time series data.  So one way to check if the
residuals are independent is to simply see if they track each other.
So convert your standard plot of residuals vs age45 to a "line" plot.
This will connect successive residuals.  Does this appear random?  To
check it, resample once the residuals once and replot.  Any
difference?  (This isn't the best test--but it does show the
signficant difference that indpendent residuals would have)
	      </p>
	 <li> Create a column of last years residuals.  (This is
	      called lagging a variable.  You can do it in JMP by
	      using a subscript of row-1.)  Plot last years residuals (X)
	      vs. this years residuals (Y).  If they were independent you
	      would not see any pattern at all.  Describe what you
	      see.  (This shows the same science as the previous
plots, but is more sensitive.)
	      </p>
	 <li> To fix this problem with the residuals, compute the
	      difference of the log(VW).  (This generates a log
	      return.)  Now compute the difference of the age45
	      variable.  Notice that if age45 predicts log(VW) then
	      difference of age45 should predict difference of
	      log(VW).  (This means you have to compute age45<sub>t</sub>-age45<sub>t-1</sub>.) 
 Run this regression.  Check if the residuals
	      have the problems discussed above.  Finally we now have
	      a model where we can believe the p-values.  Does age45
	      seem significant?
	      </p>
       </ol>
  <li> (Bonferroni concepts.)  In this problem we will try to predict
       the VW returns by looking at population. From the last problem we see
	      that differences are statistically much better to
	      analyze than the raw index itself.  So we need to
	      generate a table that has differences in the log(VW) and
	      differences in each of the age variables.  In about 30
	      minutes you could do this in JMP by creating 80 new
	      columns like dif(Age0,1), dif(Age1,1), etc.  BUT, we are
in R now.  So it is a simple command there. Suppose D is your data
frame, then D[-1,] doesn't have the first row.  Likewise D[-n,]
doesn't have the last row if n is the number of rows.  So if you
subtract these: DIF = D[-1,] - D[-n,] you now have a data.frame of
differences.  
       </p>

       <ol type = a>
	 <li> First let's see if age 45 is the best age when trying to
	      predict the VW returns.  Run a stepwise regression of
	      the VW returns on dif(age0), up to dif(age80).  Have it
	      do one step and it will add a single variable.  Did
	      dif(age45) do the best?  What is the p-value for this
              variable?  Is it significant? (I'll insert some code
here eventually.  SO check back for hints on how to run step().
	      </p>
	 <li> Now let stepwise regression run to completion.  (I.e. use the AIC=2 default
setting.)  What is
	      the best R-squared you can find?  You might as well use
	      both the dif(age) variables, and the age
	      variables themselves.
	      </p>
	 <li> Possible it isn't just he population itself that
	      matters, but interactions between different ages.  So
	      generate a model that has all of the ages in it and all
	      of the products between different ages in it. You can
use the magic of the formula by using "y ~ (age10+age11+age12)^2" to
generate all the interactions for age10,11, and 12.   Switch the AIC
to be 2*log(p) where p is the number of variables and interactions
that could be in the model.  Now run the model.  How high an
	      R-squared do you get?  Your final model should look
	      pretty impressive in terms of t-statistics.  Is this the
	      case?  But, are your p-values impressive from a
	      Bonferroni perspective?  (Use .05/number of variables to
	      check the Bonferroni level of significance.)
	      </p>
	 <li> Save your predictions of your best fitting model to a
	      column.  Now use a formula to
	      invest in the market whenever your prediction is for
	      the market to outperform cash that year and invest in cash
	      otherwise.  (Assume cash grows at 3% per year.)  Compute
	      your average returns of using this policy.  These
	      returns are Ponzironi!
	      </p>
       </ol>

  <li> (Discussion)  Discuss your analysis of Dent.  Pretend you were
       writing an article to be put up on Business Weeks' web page.
       Communicate your point with punch, and have any geeky stuff
       in an appendix.  You will probably want to have a graph or two
       to communicate your main point in the body of your story.  Make
       the graph self-contained.  Ideally someone should be able to
       cut out your graph and use it in class to communicate much of
       the point of your story.  You may want to put other graphs and
       discussions in an appendix.  Aim for less than 2 pages of
       text.  The editor might decide to use only the <a href="http://www.mielks.org/whatshappening/President_s_Goals/Public_Relations/08pr6.doc">
       first few paragraphs</a> of your story, so make sure you put your key points
       early!
       </p>


  <li> For each of the following situations estimate an appropiate p
       to use for a Bonferonni correction.  In other words, p is how many
different tests would you looked at.  (You should read the
       Dawkins paper to get an idea of how to think about these.  I
will pass this out when I return--or if I'm lucky I'll have someone
find it and give it to you in class.)
       Provide the number and a sentence describing your justification. 
       <ol>
       </p>
	 <li> You are looking at the returns over the past year for
	      the 3000 stocks trades on the NYSE.  You find one that
	      appears to be a winner.
       </p>
	 <li> You download 100 economic variables to use to predict
	      the SP500's returns.  You compute all the interaction
	      terms: (I.e. X1 * X3, X17 * X99, X12 * x12).  One of
	      these seems to predict the SP500 returns.
       </p>
	 <li> You are wondering what IBM's has excess returns.  You
	      look at their return over the past month, over the past
	      2 months, over the past quarter, the 1/2 
	      year, the past year, the past 2 years, the past 5 years,
	      the past 10 years, the past 20 years, and the past 50
	      years.  In each case you test if IBM has excess
	      returns.  You appear to find a time period which has
	      excess returns.
       </p>
	 <li> A friend suggests that you look at stock XYZ (which is
	      traded on the NYSE).  She says that it has excess
	      returns over the past 5 years.
       </p>
	 <li> You are reading a on-line investment advisory which
	      suggests that you should use the GNP/capita times the 5
	      year Eurodollar futures price to generate a leading
	      indicator for the DOW.  Looking at the track record, it
	      seems to predict well.
       </ol>
       </p>

<li> Bootstrap question: This question will walk you through using the
bootstrap to understand several issues in portfolios.  First look at
the <a href="class_berndt_CAPM.R">R code</a> from my lecture notes on
<a href="class_berndt_CAPM.pdf"> Bernt</a> (This is my version of the
pair programming I did with Sivan).  Let's start by looking at the
classic CAPM:
   <ol>
     <li> Sharp argues that a mean/SD is a nice thing to look at.
Find the combination of Domino and Market which has the best mean/SD.
     <li> Resample and rerun your analysis as a bootstrap.  Does it
seem that adding Domino's to a market prortfolio improves things?
   </ol>
Now let's figure out whether it makes sense to leverage the market.
The question is, what fraction of your wealth should you put into the
market?  Some argue for about 50%, others something like 100%-age.  I
argue that you should have at least 100%, and since leverage is so
expensive, you should have 100% exactly.  Let's see if that pans out.
  <ol>
    <li> In terms of CPI adjusted value, what does the long term
growth rate of the market look like?  For this, you might want to use
the cumprod command.  For example, to mutiply up the market returns
use something like: cumprod(1 + MARKET).
    <li> Now try different leverages between say 0 and 3 and see what
the long term growth rate is for each of these.  Generate a plot of
long term growth vs leverage amount.  (You need to make sure the rest
of your money is in cash, so it should look something like cumprod(1 +
leverage*(Market) + (1 - leverage)*RISKFREE - CPI).  What is the best
growth rate?
    <li> Pick a time frame, say 20 years, 50 years, or as much as we
have data, say 80 years.  Resample (once) and generate a new growth rate vs
leverage curve.  Did the optimum change very much?
    <li> Pick an amount of leverage that you think is a "good idea."
Now resample many times and compute the final wealth of a portfolio
that uses your choosen leverage.  At the same time compute the final
wealth of the 100% market portfolio.  You now have lots of different
worlds--in each world you have your final wealth under two different
situations.  Plot these against each other?  Which looks better?
Maybe take logs?  Which looks better?  (You might find it useful to
add an abline(0,1) i.e. the 45% line.)  How often does your portfolio
beat the market?
  </ol>


</ol>      

<P>
</BODY>
</HTML>
